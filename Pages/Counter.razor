@page "/counter"

<h1>Game of Live</h1>

<p>Current count: @currentCount and current radio @theRadio</p>
<hr>
@{
    //initial pattern
    if(currentCount == 0){
       /* e.live(3,3);
        e.live(3,4);
        e.live(2,3);
        e.live(2,4);

        e.live(6,5);
        e.live(5,6);
        e.live(6,6);*/
    }

}
<table class = "environment">
    @for(var i=0; i< @e.total_of_rows(); i++){
        <tr>
            @for(var j=0; j< @e.total_of_cols(); j++){
               if(true){
                    <td class="cell dead"></td>
                }
                else
                {
                    <td class="cell dead"></td>
                }
            }
        </tr>
    }
</table>
<p>
    <input type="radio" name="myradiobtn"
        checked="@(theRadio.Equals("step"))"
        value = "step"
        @onchange="ClickRadio"/> Step by step

    <input type="radio" name="myradiobtn"
        checked="@(theRadio.Equals("many"))"
        value = "step"
        @onchange="ClickRadio"/> Several steps

</p>
<hr>
<button class="btn btn-primary" @onclick="IncrementCount">Next</button>

<a
    class="btn btn-primary"
    href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"
    target="_blank">
    Look for Patterns in Wikipedia
</a>
@code {
    private int currentCount = 0;
    private Data.BioUnit u;
    private Data.Environment e = new Data.Environment(30,30);
    private string theRadio ="";

    private void IncrementCount()
    {
        currentCount++;
        //e.nextConwayStep();
    }

    private void ClickRadio(ChangeEventArgs args){
        theRadio = args.Value.ToString();
        currentCount++;
    }
}
